
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Productos - Tivana</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

  <div class="max-w-[1400px] mx-auto px-4 py-6">
    <h1 class="text-2xl font-bold mb-4">Productos disponibles</h1>

    <div class="flex justify-end mb-4">
      <a href="checkout.html" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Ver carrito ðŸ›’</a>
    </div>

    <div id="productosContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
  </div>

  <script>
    async function cargarProductos() {
      const res = await fetch("productos.json");
      const productos = await res.json();
      const contenedor = document.getElementById("productosContainer");

      productos.forEach((prod, index) => {
        const card = document.createElement("div");
        card.className = "bg-white rounded-lg shadow-md overflow-hidden";

        card.innerHTML = `
          <img src="\${prod.imagen}" alt="\${prod.nombre}" class="w-full h-40 object-contain p-2 bg-gray-50">
          <div class="p-4">
            <h3 class="text-sm font-semibold mb-1">\${prod.nombre}</h3>
            <p class="text-gray-600 text-sm mb-2">\$ \${prod.precio}</p>
            <button onclick="agregarAlCarrito(\${index})"
              class="bg-yellow-400 hover:bg-yellow-500 text-white text-sm px-3 py-1 rounded">Agregar al carrito</button>
          </div>
        `;
        contenedor.appendChild(card);
      });

      // Guardar productos globalmente
      window.productos = productos;
    }

    function agregarAlCarrito(index) {
      const producto = window.productos[index];
      let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
      carrito.push(producto);
      localStorage.setItem("carrito", JSON.stringify(carrito));
      alert("âœ… Producto agregado al carrito");
    }

    cargarProductos();
  </script>
</body>
</html>
