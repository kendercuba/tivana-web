
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tivana Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
</head>

<body class="bg-gray-100 font-sans text-gray-800">
  
<!--CABECERA-->
<div id="header-container"></div>

<script>
  fetch('components/header.html')
    .then(res => res.text())
    .then(html => {
      document.getElementById('header-container').innerHTML = html;
    });
</script>

<!-- CARRUSEL CON LOOP INFINITO -->
<div class="carousel-container relative overflow-hidden mx-auto mt-0 w-[90%] max-w-[1400px] aspect-[3/1]">
  <button class="prev absolute left-2 top-1/2 -translate-y-1/2 bg-white text-black rounded-full p-2 shadow-md z-10">
    &#10094;
  </button>

  <div class="carousel-slides flex transition-transform duration-500 h-full w-full">
    <img src="images/carousel/carrusel1.png" alt="Imagen 1" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba2.png" alt="Imagen 2" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba3.png" alt="Imagen 3" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba4.png" alt="Imagen 4" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba5.png" alt="Imagen 5" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba6.png" alt="Imagen 6" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba7.png" alt="Imagen 7" class="h-full object-contain flex-shrink-0">
    <img src="images/carousel/prueba8.png" alt="Imagen 8" class="h-full object-contain flex-shrink-0">
  </div>

  <button class="next absolute right-2 top-1/2 -translate-y-1/2 bg-white text-black rounded-full p-2 shadow-md z-10">
    &#10095;
  </button>
</div>
<div class="carousel-dots text-center mt-2"></div>

<script>
// Variables principales
const slidesContainer = document.querySelector('.carousel-slides');
const prevButton = document.querySelector('.prev');
const nextButton = document.querySelector('.next');
const dotsContainer = document.querySelector('.carousel-dots');

let slides = Array.from(slidesContainer.children);
const totalSlides = slides.length;

// Clonar el primer y último slide
const firstClone = slides[0].cloneNode(true);
const lastClone = slides[slides.length - 1].cloneNode(true);

firstClone.id = "first-clone";
lastClone.id = "last-clone";

slidesContainer.appendChild(firstClone);
slidesContainer.insertBefore(lastClone, slidesContainer.firstChild);

// Reasignar slides con clones incluidos
slides = Array.from(slidesContainer.children);
let currentIndex = 1;
const slideWidth = 100; // %

let slideInterval;

// Estilos dinámicos
slidesContainer.style.width = `${slides.length * 100}%`;
slides.forEach(slide => {
  slide.style.flex = "0 0 100%";
});

// Posicionar slide inicial
function updateSlidePosition() {
  slidesContainer.style.transition = 'transform 0.5s ease';
  slidesContainer.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
  updateDots();
}

// Ajustar puntos
function updateDots() {
  const dots = dotsContainer.querySelectorAll('span');
  dots.forEach(dot => dot.classList.remove('active'));
  const realIndex = (currentIndex - 1 + totalSlides) % totalSlides;
  if (dots[realIndex]) dots[realIndex].classList.add('active');
}

// Detectar fin de transición
slidesContainer.addEventListener('transitionend', () => {
  if (slides[currentIndex].id === "first-clone") {
    slidesContainer.style.transition = 'none';
    currentIndex = 1;
    slidesContainer.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
  }
  if (slides[currentIndex].id === "last-clone") {
    slidesContainer.style.transition = 'none';
    currentIndex = totalSlides;
    slidesContainer.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
  }
});

// Crear dots
for (let i = 0; i < totalSlides; i++) {
  const dot = document.createElement('span');
  dot.style.display = 'inline-block';
  dot.style.margin = '0 4px';
  dot.style.width = '10px';
  dot.style.height = '10px';
  dot.style.borderRadius = '50%';
  dot.style.background = '#ccc';
  dot.style.cursor = 'pointer';

  dot.addEventListener('click', () => {
    currentIndex = i + 1;
    updateSlidePosition();
    resetAutoplay();
  });

  dotsContainer.appendChild(dot);
}

// Funciones de navegación
function showPrevSlide() {
  if (currentIndex <= 0) return;
  currentIndex--;
  updateSlidePosition();
}

function showNextSlide() {
  if (currentIndex >= slides.length - 1) return;
  currentIndex++;
  updateSlidePosition();
}

// Eventos
prevButton.addEventListener('click', () => {
  showPrevSlide();
  resetAutoplay();
});

nextButton.addEventListener('click', () => {
  showNextSlide();
  resetAutoplay();
});

// Auto-play
function startAutoplay() {
  slideInterval = setInterval(() => {
    showNextSlide();
  }, 5000);
}

function resetAutoplay() {
  clearInterval(slideInterval);
  startAutoplay();
}

// Inicialización
updateSlidePosition();
startAutoplay();
</script>

<style>
.carousel-dots span.active {
  background: #000;
}
</style>


</body>
</html>
